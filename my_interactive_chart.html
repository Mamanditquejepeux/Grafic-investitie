import plotly.express as px
import pandas as pd

# Definirea datelor actualizate
data = {
    'Categorie': ['Branding', 'Semnalistică', 'Website Design', 'Automatizări pentru locuințe', 
                  'Sisteme de energie solară', 'Soluții de management eficient al energiei', 
                  'Soluții ergonomice pentru utilizarea spațiilor', 'Sesiuni educative', 
                  'Accesorii și mobilier furnizori', 'Iluminat cu LED și soluții de iluminat inteligente', 
                  'Inovație și dezvoltare tehnologică', 'Alte cheltuieli'],
    'Suma': [20000, 45000, 8000, 100000, 15000, 50000, 40000, 25000, 250000, 30000, 30000, 12000],  # în euro
    'Procent': [3.3, 7.5, 1.3, 16.7, 2.5, 8.3, 6.7, 4.2, 41.7, 5.0, 5.0, 2.0]  # în procente
}

# Crearea unui DataFrame
df = pd.DataFrame(data)

# Crearea graficului interactiv circular (pie chart)
fig = px.pie(df, values='Suma', names='Categorie', title='Alocarea investiției de 600.000 Euro',
             color_discrete_sequence=px.colors.qualitative.Prism, hover_data=['Procent'])

# Personalizarea designului graficului
fig.update_traces(textposition='inside', textinfo='percent+label')
fig.update_layout(
    title_font_size=24,
    title_font_family='Arial',
    title_font_color='darkblue',
    legend_title_text='Categorie',
    legend_title_font_size=16,
    legend_title_font_family='Arial',
    legend_title_font_color='darkblue',
    legend_font_size=14,
    legend_font_family='Arial',
    legend_font_color='black',
    paper_bgcolor='white',
    plot_bgcolor='white'
)

# Afișarea graficului
fig.show()

# Salvarea graficului ca fișier HTML
fig.write_html('C:\\Users\\Radu.DESKTOP-K26NMQG\\Desktop\\my_interactive_chart.html')

